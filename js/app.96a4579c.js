(function(e){function r(r){for(var a,o,l=r[0],n=r[1],d=r[2],u=0,c=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&c.push(i[o][0]),i[o]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);m&&m(r);while(c.length)c.shift()();return s.push.apply(s,d||[]),t()}function t(){for(var e,r=0;r<s.length;r++){for(var t=s[r],a=!0,l=1;l<t.length;l++){var n=t[l];0!==i[n]&&(a=!1)}a&&(s.splice(r--,1),e=o(o.s=t[0]))}return e}var a={},i={app:0},s=[];function o(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=a,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,r){if(1&r&&(e=o(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)o.d(t,a,function(r){return e[r]}.bind(null,a));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=r,l=l.slice();for(var d=0;d<l.length;d++)r(l[d]);var m=n;s.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";t("85ec")},"56d7":function(e,r,t){"use strict";t.r(r);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("h1",[e._v("请求调页算法模拟")]),t("el-button",{attrs:{type:"primary"},on:{click:e.main}},[e._v("开始模拟")]),t("el-container",{staticStyle:{}},[t("el-row",{attrs:{gutter:100}},[t("el-col",{attrs:{span:8}},[t("el-card",{staticStyle:{"border-radius":"12px"}},[t("h3",[e._v("模拟结果")]),t("el-table",{staticStyle:{width:"500px"},attrs:{data:e.result,stripe:""}},[t("el-table-column",{attrs:{prop:"algorithm",label:"算法",align:"center"}}),t("el-table-column",{attrs:{prop:"count",label:"缺页次数",align:"center"}}),t("el-table-column",{attrs:{prop:"ratio",label:"缺页率",align:"center"}})],1)],1)],1),t("el-col",{attrs:{span:16}},[t("el-card",{staticStyle:{"border-radius":"12px"}},[t("h3",[e._v("显示内存中的页面")]),t("el-row",[t("el-col",{attrs:{span:16}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(r){e.value=r},expression:"value"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-col",{attrs:{span:8}},[t("el-button",{attrs:{type:"primary"},on:{click:e.getRecord}},[e._v("查看")])],1)],1),t("el-table",{staticStyle:{width:"800px"},attrs:{data:e.record,stripe:"",height:"400px"}},[t("el-table-column",{attrs:{prop:"num",label:"指令",align:"center"}}),t("el-table-column",{attrs:{prop:"addr",label:"逻辑地址",align:"center"}}),t("el-table-column",{attrs:{prop:"paddr",label:"物理地址",align:"center"}}),t("el-table-column",{attrs:{prop:"miss",label:"是否缺页",align:"center"}}),t("el-table-column",{attrs:{prop:"mem0",label:"内存块0",align:"center"}}),t("el-table-column",{attrs:{prop:"mem1",label:"内存块1",align:"center"}}),t("el-table-column",{attrs:{prop:"mem2",label:"内存块2",align:"center"}}),t("el-table-column",{attrs:{prop:"mem3",label:"内存块3",align:"center"}})],1)],1)],1)],1)],1)],1)},s=[],o={name:"App",data:function(){return{addr:[],page:[],record:[],result:[{algorithm:"OPT",count:0,ratio:0},{algorithm:"FIFO",count:0,ratio:0},{algorithm:"LRU",count:0,ratio:0},{algorithm:"LFU",count:0,ratio:0},{algorithm:"Clock",count:0,ratio:0}],options:[{value:"OPT",label:"OPT"},{value:"FIFO",label:"FIFO"},{value:"LRU",label:"LRU"},{value:"LFU",label:"LFU"},{value:"Clock",label:"Clock"}],value:"OPT"}},methods:{getSeq:function(){for(var e=[],r=Math.floor(320*Math.random()),t=0;t<80;++t)e.push(r),e.push(Math.min(r+1,319)),r=Math.floor(Math.random()*r),e.push(r),e.push(r+1),319!=r&&(r=Math.floor(Math.random()*(318-r))+r+2);return console.log(e),e},getPage:function(){for(var e=0;e<320;++e)this.page[e]=Math.floor(this.addr[e]/10)},OPT:function(){this.record=[];for(var e=[-1,-1,-1,-1],r=0,t=0;t<320;++t){for(var a=!1,i=0;i<4;++i)if(e[i]===this.page[t]){a=!0,this.record.push({num:t,addr:this.addr[t],paddr:this.addr[t]%10+10*i,miss:"否",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!a){++r;var s=!0;for(i=0;i<4;++i)if(-1===e[i]){s=!1,e[i]=this.page[t],this.record.push({num:t,addr:this.addr[t],paddr:this.addr[t]%10+10*i,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(s){var o=0,l=0;for(i=0;i<4;++i){var n;for(n=t+1;n<320;++n)if(this.page[n]===e[i])break;if(320===n){o=i;break}n>l&&(l=n,o=i)}e[o]=this.page[t],this.record.push({num:t,addr:this.addr[t],paddr:this.addr[t]%10+10*o,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return r},FIFO:function(){this.record=[];for(var e=[-1,-1,-1,-1],r=[],t=0,a=0;a<320;++a){for(var i=!1,s=0;s<4;++s)if(e[s]===this.page[a]){i=!0,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"否",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!i){++t;var o=!0;for(s=0;s<4;++s)if(-1===e[s]){o=!1,e[s]=this.page[a],r.push(s),this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(o){var l=r.shift();e[l]=this.page[a],r.push(l),this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*l,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return t},LRU:function(){this.record=[];for(var e=[-1,-1,-1,-1],r=[-1,-1,-1,-1],t=0,a=0;a<320;++a){for(var i=!1,s=0;s<4;++s)if(e[s]===this.page[a]){i=!0,r[s]=a,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"否",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!i){++t;var o=!0;for(s=0;s<4;++s)if(-1===e[s]){o=!1,e[s]=this.page[a],r[s]=a,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(o){var l=0,n=320;for(s=0;s<4;++s)r[s]<n&&(n=r[s],l=s);e[l]=this.page[a],r[l]=a,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*l,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return t},LFU:function(){this.record=[];for(var e=[-1,-1,-1,-1],r=[0,0,0,0],t=0,a=0;a<320;++a){for(var i=!1,s=0;s<4;++s)if(e[s]===this.page[a]){i=!0,++r[s],this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"否",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!i){++t;var o=!0;for(s=0;s<4;++s)if(-1===e[s]){o=!1,e[s]=this.page[a],r[s]=1,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*s,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(o){var l=0,n=321;for(s=0;s<4;++s)r[s]<n&&(n=r[s],l=s);e[l]=this.page[a],r[s]=1,this.record.push({num:a,addr:this.addr[a],paddr:this.addr[a]%10+10*l,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return t},Clock:function(){this.record=[];for(var e=[-1,-1,-1,-1],r=[0,0,0,0],t=0,a=0,i=0;i<320;++i){for(var s=!1,o=0;o<4;++o)if(e[o]===this.page[i]){s=!0,r[o]=1,this.record.push({num:i,addr:this.addr[i],paddr:this.addr[i]%10+10*o,miss:"否",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!s){++t;var l=!0;for(o=0;o<4;++o)if(-1===e[o]){l=!1,e[o]=this.page[i],r[o]=1,this.record.push({num:i,addr:this.addr[i],paddr:this.addr[i]%10+10*o,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(l)while(1){if(1!==r[a]){e[a]=this.page[i],r[a]=1,this.record.push({num:i,addr:this.addr[i],paddr:this.addr[i]%10+10*a,miss:"是",mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]}),a=(a+1)%4;break}r[a]=0,a=(a+1)%4}}}return t},getRecord:function(){if(0==this.page.length)alert("请先开始模拟!");else switch(this.value){case"FIFO":this.FIFO();break;case"LRU":this.LRU();break;case"LFO":this.LFU();break;case"Clock":this.Clock();break;default:this.OPT()}},main:function(){this.addr=this.getSeq(),this.getPage(),this.result[0].count=this.OPT(),this.result[1].count=this.FIFO(),this.result[2].count=this.LRU(),this.result[3].count=this.LFU(),this.result[4].count=this.Clock(),this.getRecord();for(var e=0;e<5;++e)this.result[e].ratio=this.result[e].count/320}}},l=o,n=(t("034f"),t("2877")),d=Object(n["a"])(l,i,s,!1,null,null,null),m=d.exports,u=t("2f62");a["default"].use(u["a"]);var c=new u["a"].Store({state:{},mutations:{},actions:{},modules:{}}),h=t("5c96"),p=t.n(h);t("0fae");a["default"].use(p.a),a["default"].config.productionTip=!1,new a["default"]({store:c,render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,r,t){}});
//# sourceMappingURL=app.96a4579c.js.map