(function(e){function t(t){for(var a,n,l=t[0],s=t[1],m=t[2],c=0,d=[];c<l.length;c++)n=l[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,m||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,l=1;l<r.length;l++){var s=r[l];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},o={app:0},i=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("h1",[e._v("请求调页算法模拟")]),r("el-button",{attrs:{type:"primary"},on:{click:e.main}},[e._v("开始模拟")]),r("el-container",{staticStyle:{}},[r("el-row",{attrs:{gutter:100}},[r("el-col",{attrs:{span:12}},[r("el-card",{staticStyle:{"border-radius":"12px"}},[r("h3",[e._v("模拟结果")]),r("el-table",{staticStyle:{width:"500px"},attrs:{data:e.result,stripe:""}},[r("el-table-column",{attrs:{prop:"algorithm",label:"算法",align:"center"}}),r("el-table-column",{attrs:{prop:"count",label:"缺页次数",align:"center"}}),r("el-table-column",{attrs:{prop:"ratio",label:"缺页率",align:"center"}})],1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-card",{staticStyle:{"border-radius":"12px"}},[r("h3",[e._v("显示内存中的页面")]),r("el-row",[r("el-col",{attrs:{span:16}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:8}},[r("el-button",{attrs:{type:"primary"},on:{click:e.getRecord}},[e._v("查看")])],1)],1),r("el-table",{staticStyle:{width:"500px"},attrs:{data:e.record,stripe:"",height:"400px"}},[r("el-table-column",{attrs:{prop:"num",label:"指令",align:"center"}}),r("el-table-column",{attrs:{prop:"addr",label:"逻辑地址",align:"center"}}),r("el-table-column",{attrs:{prop:"mem0",label:"内存块0",align:"center"}}),r("el-table-column",{attrs:{prop:"mem1",label:"内存块1",align:"center"}}),r("el-table-column",{attrs:{prop:"mem2",label:"内存块2",align:"center"}}),r("el-table-column",{attrs:{prop:"mem3",label:"内存块3",align:"center"}})],1)],1)],1)],1)],1)],1)},i=[],n={name:"App",data:function(){return{addr:[],page:[],record:[],result:[{algorithm:"OPT",count:0,ratio:0},{algorithm:"FIFO",count:0,ratio:0},{algorithm:"LRU",count:0,ratio:0},{algorithm:"LFU",count:0,ratio:0},{algorithm:"Clock",count:0,ratio:0}],options:[{value:"OPT",label:"OPT"},{value:"FIFO",label:"FIFO"},{value:"LRU",label:"LRU"},{value:"LFU",label:"LFU"},{value:"Clock",label:"Clock"}],value:"OPT"}},methods:{getSeq:function(){for(var e=[],t=Math.floor(320*Math.random()),r=0;r<80;++r)e.push(t),e.push(Math.min(t+1,319)),t=Math.floor(Math.random()*t),e.push(t),e.push(t+1),319!=t&&(t=Math.floor(Math.random()*(318-t))+t+2);return console.log(e),e},getPage:function(){for(var e=0;e<320;++e)this.page[e]=Math.floor(this.addr[e]/10)},OPT:function(){this.record=[];for(var e=[-1,-1,-1,-1],t=0,r=0;r<320;++r){for(var a=!1,o=0;o<4;++o)if(e[o]===this.page[r]){a=!0,this.record.push({num:r,addr:this.addr[r],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!a){++t;var i=!0;for(o=0;o<4;++o)if(-1===e[o]){i=!1,e[o]=this.page[r],this.record.push({num:r,addr:this.addr[r],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(i){var n=0,l=0;for(o=0;o<4;++o){var s;for(s=r+1;s<320;++s)if(this.page[s]===e[o])break;if(320===s){n=o;break}s>l&&(l=s,n=o)}e[n]=this.page[r],this.record.push({num:r,addr:this.addr[r],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return t},FIFO:function(){this.record=[];for(var e=[-1,-1,-1,-1],t=[],r=0,a=0;a<320;++a){for(var o=!1,i=0;i<4;++i)if(e[i]===this.page[a]){o=!0,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!o){++r;var n=!0;for(i=0;i<4;++i)if(-1===e[i]){n=!1,e[i]=this.page[a],t.push(i),this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(n){var l=t.shift();e[l]=this.page[a],t.push(l),this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return r},LRU:function(){this.record=[];for(var e=[-1,-1,-1,-1],t=[-1,-1,-1,-1],r=0,a=0;a<320;++a){for(var o=!1,i=0;i<4;++i)if(e[i]===this.page[a]){o=!0,t[i]=a,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!o){++r;var n=!0;for(i=0;i<4;++i)if(-1===e[i]){n=!1,e[i]=this.page[a],t[i]=a,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(n){var l=0,s=320;for(i=0;i<4;++i)t[i]<s&&(s=t[i],l=i);e[l]=this.page[a],t[l]=a,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return r},LFU:function(){this.record=[];for(var e=[-1,-1,-1,-1],t=[0,0,0,0],r=0,a=0;a<320;++a){for(var o=!1,i=0;i<4;++i)if(e[i]===this.page[a]){o=!0,++t[i],this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!o){++r;var n=!0;for(i=0;i<4;++i)if(-1===e[i]){n=!1,e[i]=this.page[a],t[i]=1,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(n){var l=0,s=321;for(i=0;i<4;++i)t[i]<s&&(s=t[i],l=i);e[l]=this.page[a],t[i]=1,this.record.push({num:a,addr:this.addr[a],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]})}}}return r},Clock:function(){this.record=[];for(var e=[-1,-1,-1,-1],t=[0,0,0,0],r=0,a=0,o=0;o<320;++o){for(var i=!1,n=0;n<4;++n)if(e[n]===this.page[o]){i=!0,t[n]=1,this.record.push({num:o,addr:this.addr[o],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(!i){++r;var l=!0;for(n=0;n<4;++n)if(-1===e[n]){l=!1,e[n]=this.page[o],t[n]=1,this.record.push({num:o,addr:this.addr[o],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}if(l)while(1){if(1!==t[a]){e[a]=this.page[o],t[a]=1,a=(a+1)%4,this.record.push({num:o,addr:this.addr[o],mem0:e[0],mem1:e[1],mem2:e[2],mem3:e[3]});break}t[a]=0,a=(a+1)%4}}}return r},getRecord:function(){switch(this.value){case"FIFO":this.FIFO();break;case"LRU":this.LRU();break;case"LFO":this.LFU();break;case"Clock":this.Clock();break;default:this.OPT()}},main:function(){this.addr=this.getSeq(),this.getPage(),this.result[1].count=this.FIFO(),this.result[2].count=this.LRU(),this.result[3].count=this.LFU(),this.result[4].count=this.Clock(),this.result[0].count=this.OPT();for(var e=0;e<5;++e)this.result[e].ratio=this.result[e].count/320}}},l=n,s=(r("034f"),r("2877")),m=Object(s["a"])(l,o,i,!1,null,null,null),u=m.exports,c=r("2f62");a["default"].use(c["a"]);var d=new c["a"].Store({state:{},mutations:{},actions:{},modules:{}}),h=r("5c96"),p=r.n(h);r("0fae");a["default"].use(p.a),a["default"].config.productionTip=!1,new a["default"]({store:d,render:function(e){return e(u)}}).$mount("#app")},"85ec":function(e,t,r){}});
//# sourceMappingURL=app.34a93a5f.js.map